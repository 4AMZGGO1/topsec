## 一、默认静态路由实验

本网络实验基于三台路由器（R1、R2、R3）构建一个简单的多网段互联拓扑。通过配置静态路由（包括默认静态路由）实现 PC1 与 PC3 的互通，并通过 `tracert` 命令验证路径连通性。

------

## 二、网络拓扑结构

```
PC1 —— R1 —— R2 —— R3 —— PC3
```

| 设备 | 接口          | IP 地址       | 子网掩码        | 说明                |
| ---- | ------------- | ------------- | --------------- | ------------------- |
| R1   | Ethernet0/0/0 | 172.16.10.254 | 255.255.255.0   | 连接 PC1            |
| R1   | Ethernet0/0/1 | 12.1.1.1      | 255.255.255.240 | 连接 R2             |
| R2   | Ethernet0/0/0 | 12.1.1.2      | 255.255.255.240 | 连接 R1             |
| R2   | Ethernet0/0/1 | 23.1.1.2      | 255.255.255.240 | 连接 R3             |
| R3   | Ethernet0/0/0 | 23.1.1.3      | 255.255.255.240 | 连接 R2             |
| R3   | Ethernet0/0/1 | 192.168.1.254 | 255.255.255.0   | 连接 PC3            |
| PC1  | -             | 172.16.10.X   | 255.255.255.0   | 网关：172.16.10.254 |
| PC3  | -             | 192.168.1.1   | 255.255.255.0   | 网关：192.168.1.254 |

------

## 三、路由配置详情

### 1. R1 配置（含默认路由）

```shell
[R1]interface Ethernet0/0/0
[R1-Ethernet0/0/0]ip address 172.16.10.254 255.255.255.0
[R1-Ethernet0/0/0]interface Ethernet0/0/1
[R1-Ethernet0/0/1]ip address 12.1.1.1 255.255.255.240
[R1]ip route-static 0.0.0.0 0.0.0.0 12.1.1.2
```

### 2. R2 配置（完整静态路由）

```shell
[R2]interface Ethernet0/0/0
[R2-Ethernet0/0/0]ip address 12.1.1.2 255.255.255.240
[R2-Ethernet0/0/0]interface Ethernet0/0/1
[R2-Ethernet0/0/1]ip address 23.1.1.2 255.255.255.240
[R2]ip route-static 172.16.10.0 255.255.255.0 12.1.1.1
[R2]ip route-static 192.168.1.0 255.255.255.0 23.1.1.3
```

### 3. R3 配置（含默认路由）

```shell
[R3]interface Ethernet0/0/0
[R3-Ethernet0/0/0]ip address 23.1.1.3 255.255.255.240
[R3-Ethernet0/0/0]interface Ethernet0/0/1
[R3-Ethernet0/0/1]ip address 192.168.1.254 255.255.255.0
[R3]ip route-static 0.0.0.0 0.0.0.0 23.1.1.2
```

------

## 四、通信验证结果（PC1 → PC3）

### 测试命令：

```bash
PC> tracert 192.168.1.1
```

### 测试输出：

```
traceroute to 192.168.1.1, 8 hops max
(ICMP), press Ctrl+C to stop
 1  172.16.10.254    93 ms   94 ms   47 ms
 2  12.1.1.2         94 ms  125 ms  109 ms
 3  23.1.1.3        188 ms  187 ms  188 ms
 4  192.168.1.1     234 ms  187 ms  188 ms
```

### 路径说明：

- **第1跳**：R1 的内网接口（PC1 网关）；
- **第2跳**：R2 的外网接口；
- **第3跳**：R3 的外网接口；
- **第4跳**：目标主机 PC3。

------

## 五、总结与分析

- 本拓扑使用了默认静态路由简化配置：
  - R1 和 R3 使用默认路由转发所有未知网络流量；
  - R2 配置完整静态路由指向两端子网；
- 所有静态路由配置正确；
- PC1 成功访问 PC3，网络连通性验证通过；







```
[r1]int e0/0/0
[r1-Ethernet0/0/0]ip add 172.16.10.254 24
[r1-Ethernet0/0/0]int e0/0/1
[r1-Ethernet0/0/1]ip add 12.1.1.1 28	
[r1-Ethernet0/0/1]int serial 0/0/0
[r1-Serial0/0/0]ip add 14.1.1.1 28

[r2]int e0/0/0
[r2-Ethernet0/0/0]ip add 12.1.1.2 28
[r2-Ethernet0/0/0]int e0/0/1
[r2-Ethernet0/0/1]ip add 23.1.1.2 28

[r3]int e0/0/1
[r3-Ethernet0/0/1]ip add 192.168.1.254 24
[r3-Ethernet0/0/1]int e0/0/0
[r3-Ethernet0/0/0]ip add 23.1.1.3 28
[r3-Ethernet0/0/0]int serial 0/0/1
[r3-Serial0/0/1]ip add 34.1.1.3 28

[r4]int serial 0/0/0
[r4-Serial0/0/0]ip add 14.1.1.2 28
[r4-Serial0/0/0]int serial 0/0/1
[r4-Serial0/0/1]ip add 34.1.1.2 28
```

