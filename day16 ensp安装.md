## **1ã€æŠ“å– ARP åè®®åŒ…ï¼ŒæŸ¥çœ‹å¸§å¤´çš„ç›®æ ‡ MAC åœ°å€çš„ä¸åŒ**

### **å®éªŒç›®çš„**

é€šè¿‡æŠ“å– ARP åè®®åŒ…ï¼Œäº†è§£ ARP è¯·æ±‚å’Œåº”ç­”æŠ¥æ–‡ä¸­ä»¥å¤ªç½‘å¸§å¤´çš„ç›®æ ‡ MAC åœ°å€çš„å·®å¼‚ã€‚

------

### **å®éªŒç¯å¢ƒä¸å·¥å…·**

- **å·¥å…·**ï¼šWireshark æŠ“åŒ…å·¥å…·
- **æ‹“æ‰‘**ï¼šENSP æ¨¡æ‹Ÿç¯å¢ƒï¼ˆPC1 + PC2 + äº¤æ¢æœºï¼‰

------

### **å®éªŒæ‹“æ‰‘æˆªå›¾**

![image-20250729112440631](file:///C:/%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250729112440631.png)

------

### **å®éªŒæ­¥éª¤**

1. åœ¨ ENSP ä¸­æ„å»ºå¦‚ä¸Šæ‹“æ‰‘ï¼Œä¸¤å° PC åˆ†åˆ«é…ç½® IP åœ°å€ã€‚
2. ä½¿ç”¨ Wireshark æŠ“åŒ…ï¼Œé€‰æ‹© PC1 æŠ“å–ç½‘å¡æµé‡ã€‚
3. åœ¨ PC1 ä¸Šä½¿ç”¨ `ping` å‘½ä»¤è®¿é—® PC2ï¼Œè§¦å‘ ARP è¿‡ç¨‹ã€‚
4. æŸ¥çœ‹ ARP è¯·æ±‚å’Œåº”ç­”å¸§çš„ç›®æ ‡ MAC åœ°å€å·®å¼‚ã€‚

------

### **ARP è¯·æ±‚åŒ…åˆ†æ**

- **å¸§å¤´ç›®æ ‡ MAC åœ°å€**ï¼š`ff:ff:ff:ff:ff:ff`ï¼ˆå¹¿æ’­åœ°å€ï¼‰
- **è¯´æ˜**ï¼šARP è¯·æ±‚ç”¨äºè¯¢é—®â€œæŸä¸ª IP åœ°å€å¯¹åº”çš„ MAC åœ°å€æ˜¯è°ï¼Ÿâ€

#### ARP è¯·æ±‚å¸§æˆªå›¾ï¼š

![image-20250729112814103](file:///C:/%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250729112814103.png)

#### **å®Œæ•´å¸§ä¿¡æ¯è§£è¯»**ï¼š

```
Frame 28: 60 bytes on wire (480 bits), 60 bytes captured (480 bits) on interface 0
Ethernet II, Src: HuaweiTe_96:6d:06 (54:89:98:96:6d:06), Dst: Broadcast (ff:ff:ff:ff:ff:ff)
Address Resolution Protocol (request)
```

#### **å­—æ®µè¯´æ˜**ï¼š

- **å¸§ç¼–å·**ï¼šç¬¬ 28 å¸§ï¼Œæ˜¯æŠ“åŒ…ä¸­æœ€æ—©å‡ºç°çš„ ARP è¯·æ±‚ã€‚
- **å¸§é•¿åº¦**ï¼š60 å­—èŠ‚ï¼Œæ˜¯ä»¥å¤ªç½‘è§„å®šçš„æœ€å°å¸§é•¿ï¼ˆè‡ªåŠ¨è¡¥å…¨å¡«å……ï¼‰ã€‚
- **åè®®ç±»å‹**ï¼šEthernet II å¸§ï¼Œå°è£…çš„æ˜¯ ARP åè®®ã€‚
- **æº MAC**ï¼š`54:89:98:96:6d:06`ï¼ˆè¯·æ±‚å‘èµ·æ–¹ï¼‰ã€‚
- **ç›®æ ‡ MAC**ï¼š`ff:ff:ff:ff:ff:ff`ï¼ˆå¹¿æ’­åœ°å€ï¼Œå‘ç»™å…¨ç½‘æ‰€æœ‰ä¸»æœºï¼‰ã€‚

------

### **ARP åº”ç­”åŒ…åˆ†æ**

- **å¸§å¤´ç›®æ ‡ MAC åœ°å€**ï¼š`54:89:98:96:6d:06`ï¼ˆå•æ’­ï¼‰
- **è¯´æ˜**ï¼šARP åº”ç­”æ˜¯è¢«è¯¢é—®ä¸»æœºç›´æ¥æŠŠ MAC åœ°å€å›å¤ç»™è¯·æ±‚ä¸»æœºã€‚

#### ARP åº”ç­”å¸§æˆªå›¾ï¼š

![image-20250729113006251](file:///C:/%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250729113006251.png)

#### **ARP å“åº”å¸§ Frame 29 åˆ†æ**ï¼š

```
Frame 29: 60 bytes on wire (480 bits), 60 bytes captured (480 bits) on interface 0
Ethernet II, Src: HuaweiTe_24:05:72 (54:89:98:24:05:72), Dst: HuaweiTe_96:6d:06 (54:89:98:96:6d:06)
    Destination: HuaweiTe_96:6d:06 (54:89:98:96:6d:06)
    Source: HuaweiTe_24:05:72 (54:89:98:24:05:72)
    Type: ARP (0x0806)
    Padding: 000000000000000000000000000000000000
Address Resolution Protocol (reply)
```

#### **å­—æ®µè¯´æ˜**ï¼š

| å­—æ®µ          | å€¼                            | å«ä¹‰                            |
| ------------- | ----------------------------- | ------------------------------- |
| å¸§ç¼–å·        | Frame 29                      | ç¬¬ 29 ä¸ªæŠ“åˆ°çš„å¸§ï¼ŒARP å“åº”å¸§    |
| æº MAC åœ°å€   | `54:89:98:24:05:72`ï¼ˆHuaweiï¼‰ | è¢«è¯·æ±‚ä¸»æœºçš„ MAC åœ°å€ï¼ˆå“åº”è€…ï¼‰ |
| ç›®æ ‡ MAC åœ°å€ | `54:89:98:96:6d:06`ï¼ˆHuaweiï¼‰ | è¯·æ±‚ä¸»æœºçš„ MAC åœ°å€ï¼ˆå•æ’­å“åº”ï¼‰ |
| å¸§ç±»å‹        | `0x0806`                      | è¡¨ç¤ºä¸º ARP åè®®å¸§               |
| ARP ç±»å‹      | reply                         | è¡¨æ˜æ˜¯ä¸€ä¸ª ARP å“åº”åŒ…           |
| Padding       | å…¨éƒ¨ä¸º 0                      | è¡¥è¶³å¸§é•¿åº¦è‡³ 60 å­—èŠ‚çš„å¡«å……æ•°æ®  |

------

### âœ… **ARP è¯·æ±‚ä¸å“åº”å¸§å¯¹æ¯”æ€»ç»“**

| é¡¹ç›®                  | ARP è¯·æ±‚å¸§ï¼ˆFrame 28ï¼‰      | ARP å“åº”å¸§ï¼ˆFrame 29ï¼‰      |
| --------------------- | --------------------------- | --------------------------- |
| ç›®æ ‡ MAC åœ°å€ï¼ˆå¸§å¤´ï¼‰ | `ff:ff:ff:ff:ff:ff`ï¼ˆå¹¿æ’­ï¼‰ | è¯·æ±‚ä¸»æœºçš„ MAC åœ°å€ï¼ˆå•æ’­ï¼‰ |
| æº MAC åœ°å€ï¼ˆå¸§å¤´ï¼‰   | è¯·æ±‚ä¸»æœºçš„ MAC åœ°å€         | å“åº”ä¸»æœºçš„ MAC åœ°å€         |
| ARP ç±»å‹              | request                     | reply                       |
| å¸§å¤´é€šä¿¡æ–¹å¼          | å¹¿æ’­                        | å•æ’­                        |

------

### ğŸ§  **ç»“è®ºï¼šå¸§å¤´ç›®æ ‡ MAC åœ°å€çš„å·®å¼‚**

| ARP ç±»å‹ | å¸§å¤´ç›®æ ‡ MAC åœ°å€           | åŸå› è¯´æ˜                                 |
| -------- | --------------------------- | ---------------------------------------- |
| ARP è¯·æ±‚ | `ff:ff:ff:ff:ff:ff`ï¼ˆå¹¿æ’­ï¼‰ | å› ä¸çŸ¥é“ç›®æ ‡ MACï¼Œéœ€è¦å¹¿æ’­æŸ¥æ‰¾           |
| ARP å“åº” | è¯·æ±‚ä¸»æœºçš„ MAC åœ°å€ï¼ˆå•æ’­ï¼‰ | ç›´æ¥å›å¤ç»™è¯·æ±‚æ–¹ï¼Œå¸§ç›®æ ‡åœ°å€ä¸ºè¯·æ±‚è€… MAC |



------

## **2ã€ENSP æµ‹è¯•ä¸¤å°ä¸»æœºé€šè¿‡äº¤æ¢æœºé€šä¿¡**

### **å®éªŒæ‹“æ‰‘**ï¼š

```
PC1 ----- SW ----- PC2
```

### **é…ç½®æ­¥éª¤**ï¼š

1. å°†ä¸¤å°ä¸»æœºåˆ†åˆ«è¿æ¥åˆ°äº¤æ¢æœºçš„ä¸¤ä¸ªç«¯å£ã€‚

2. ç»™ PC1 å’Œ PC2 åˆ†åˆ«é…ç½® IP åœ°å€ï¼š

   - PC1ï¼š192.168.100.1/24
   - PC2ï¼š192.168.100.2/24

3. åœ¨ PC1 ä¸Š ping PC2ï¼š

   ```bash
   ping 192.168.100.2
   ```

4. è§‚å¯Ÿæ˜¯å¦é€šä¿¡æˆåŠŸã€‚

### ![image-20250729113406121](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250729113406121.png)



------

## âœ… **3ã€é¢„ä¹ ç”¨æˆ·æ¨¡å¼ã€ç‰¹æƒæ¨¡å¼ã€ä¿®æ”¹è®¾å¤‡åç§°å‘½ä»¤ï¼ˆåä¸ºè®¾å¤‡ï¼‰**

### **ä¸€ã€å®éªŒç›®çš„**

ç†Ÿæ‚‰åä¸ºäº¤æ¢æœºçš„åŸºæœ¬å‘½ä»¤è¡Œæ“ä½œæµç¨‹ï¼ŒæŒæ¡ç”¨æˆ·è§†å›¾ã€ç³»ç»Ÿè§†å›¾çš„åˆ‡æ¢æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•ä¿®æ”¹è®¾å¤‡åç§°ã€‚

------

### **äºŒã€å®éªŒç¯å¢ƒ**

- ENSP æ¨¡æ‹Ÿå™¨
- ä¸€å°åä¸ºäº¤æ¢æœºè®¾å¤‡ï¼ˆS5700ï¼‰

------

### **ä¸‰ã€åŸºæœ¬æ¦‚å¿µ**

| æ¨¡å¼/è§†å›¾ | æç¤ºç¬¦     | è¯´æ˜                                  |
| --------- | ---------- | ------------------------------------- |
| ç”¨æˆ·è§†å›¾  | `<Huawei>` | ç™»å½•åé»˜è®¤è¿›å…¥ï¼Œå¯æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯        |
| ç³»ç»Ÿè§†å›¾  | `[Huawei]` | è¾“å…¥ `system-view` è¿›å…¥ï¼Œé…ç½®å„ç§å‚æ•° |

------

### **å››ã€å¸¸ç”¨å‘½ä»¤**

#### 1. **è¿›å…¥ç³»ç»Ÿè§†å›¾ï¼ˆé…ç½®æ¨¡å¼ï¼‰**

```bash
<Huawei> system-view
Enter system view, return user view with Ctrl+Z.
[Huawei]
```

> ![image-20250729114309609](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250729114309609.png)

------

#### 2. **ä¿®æ”¹è®¾å¤‡åç§°**

```bash
[Huawei] sysname SW1
[SW1]
```

> æ­¤å‘½ä»¤å°†è®¾å¤‡åç§°ä»é»˜è®¤çš„ `Huawei` ä¿®
>
> æ”¹ä¸º `SW1`ï¼Œæ–¹ä¾¿è¯†åˆ«è®¾å¤‡è§’è‰²ã€‚
>
> ![image-20250729114325665](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250729114325665.png)

------

#### 3. **é€€å‡ºåˆ°ç”¨æˆ·è§†å›¾**

```bash
[SW1] quit
<SW1>
```

![image-20250729114402842](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250729114402842.png)

#### 4. **ä»ç³»ç»Ÿè§†å›¾è¿”å›ç»ˆç«¯ç›´æ¥å‘½ä»¤è¡Œ**

```bash
[SW1] Ctrl+Z
<SW1>
```

------



# 4ã€é¢„ä¹ äº¤æ¢æœºè®¾ç½® Telnet è¿œç¨‹æ§åˆ¶

------

### ![image-20250729144026135](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250729144026135.png)

```bash
<Huawei> system-view

[sw1] sysname SW1

[SW1] interface Vlanif1
[SW1-Vlanif1] ip address 192.168.100.254 255.255.255.0
[SW1-Vlanif1] quit

[SW1] interface GigabitEthernet 0/0/1
[SW1-GigabitEthernet0/0/1] port link-type access
[SW1-GigabitEthernet0/0/1] port default vlan 1
[SW1-GigabitEthernet0/0/1] undo shutdown
[SW1-GigabitEthernet0/0/1] quit


[SW1] user-interface vty 0 4
[SW1-ui-vty0-4] set authentication password simple YourPassword123
[SW1-ui-vty0-4] protocol inbound telnet
[SW1-ui-vty0-4] quit

```

![image-20250729115408944](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250729115408944.png)

------

### PCç«¯Telnetç™»å½•æµ‹è¯•

### ä½¿ç”¨ **ENSP ä¸­æ”¯æŒ telnet çš„è®¾å¤‡**ï¼ˆæ¨èç”¨ Router æ¨¡æ‹Ÿ PCï¼‰

1. åœ¨ ENSP ä¸­ç”¨ä¸€å° **AR è·¯ç”±å™¨** ä»£æ›¿ PCã€‚

2. ç»™ AR åˆ†é… IP åœ°å€ï¼š

   ```bash
   [AR1] interface GigabitEthernet 0/0/0
   [AR1-GigabitEthernet0/0/0] ip address 192.168.100.1 255.255.255.0
   [AR1-GigabitEthernet0/0/0] undo shutdown
   ```

3. ç„¶ååœ¨ AR çš„ç”¨æˆ·è§†å›¾ä¸­æ‰§è¡Œï¼š

   ```bash
   <AR1> telnet 192.168.100.254
   ```

![image-20250729143951910](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250729143951910.png)